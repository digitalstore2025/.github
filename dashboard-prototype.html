<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… ØµÙˆØª Ø§Ù„Ù‚Ø¯Ø³ | Voice of Quds Control Panel</title>
  <style>
    :root {
      --bg: #0f172a;
      --panel: #111827;
      --accent: #06b6d4;
      --accent-2: #f97316;
      --text: #e5e7eb;
      --muted: #94a3b8;
      --border: #1f2937;
      --success: #22c55e;
      --danger: #ef4444;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Inter", "Cairo", system-ui, -apple-system, sans-serif;
      background: radial-gradient(circle at 20% 20%, rgba(6, 182, 212, 0.08), transparent 40%),
                  radial-gradient(circle at 80% 0%, rgba(249, 115, 22, 0.12), transparent 30%),
                  var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 24px;
      display: flex;
      justify-content: center;
    }

    .shell {
      width: min(1180px, 100%);
    }

    header {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 20px;
    }

    .title {
      display: flex;
      gap: 12px;
      align-items: center;
      font-weight: 700;
      letter-spacing: 0.1px;
    }

    .title span {
      background: linear-gradient(120deg, var(--accent), var(--accent-2));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .badge {
      border: 1px solid var(--border);
      color: var(--muted);
      padding: 6px 10px;
      border-radius: 10px;
      font-size: 12px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 16px;
    }

    .panel {
      background: rgba(17, 24, 39, 0.8);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 15px 55px rgba(0, 0, 0, 0.25);
      backdrop-filter: blur(12px);
    }

    .panel h3 {
      margin: 0 0 10px;
      font-size: 16px;
      letter-spacing: 0.2px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    label {
      display: block;
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 6px;
    }

    input, select, textarea {
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: #0b1220;
      color: var(--text);
      font-size: 14px;
    }

    textarea {
      min-height: 80px;
      resize: vertical;
    }

    .row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .row > div { flex: 1; min-width: 140px; }

    .choices {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .pill {
      border: 1px solid var(--border);
      padding: 8px 12px;
      border-radius: 999px;
      cursor: pointer;
      color: var(--muted);
      background: #0b1220;
      transition: all 0.15s ease-in-out;
      user-select: none;
    }

    .pill.active {
      border-color: var(--accent);
      color: var(--text);
      background: rgba(6, 182, 212, 0.08);
      box-shadow: 0 0 0 1px rgba(6, 182, 212, 0.35);
    }

    .actions {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    button {
      border: none;
      cursor: pointer;
      padding: 12px 14px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 14px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: var(--text);
      background: var(--accent);
      transition: transform 0.1s ease, box-shadow 0.1s ease;
    }

    button.secondary {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--muted);
    }

    button:active { transform: translateY(1px); }

    .output {
      border: 1px dashed var(--border);
      border-radius: 12px;
      padding: 14px;
      margin-top: 10px;
      background: #0b1220;
      line-height: 1.5;
    }

    .output h4 { margin: 0 0 6px; }
    .output small { color: var(--muted); }
    .output .meta { display: flex; gap: 12px; flex-wrap: wrap; }
    .output .tags { display: flex; gap: 6px; flex-wrap: wrap; }
    .tag {
      background: rgba(6, 182, 212, 0.12);
      color: var(--accent);
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(6, 182, 212, 0.25);
      font-size: 12px;
    }

    .status-line {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-top: 8px;
      font-size: 13px;
      color: var(--muted);
    }

    .status-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--success);
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.12);
    }

    .language-switch {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .language-switch button { padding: 10px 12px; }

    @media (max-width: 640px) {
      body { padding: 16px; }
      header { flex-direction: column; align-items: flex-start; }
    }
  </style>
</head>
<body>
  <div class="shell">
    <header>
      <div class="title">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 22h10"/><path d="M12 2v20"/><path d="M7 6.75a4.25 4.25 0 0 1 8.5 0v10.5a4.25 4.25 0 1 1-8.5 0V6.75Z"/></svg>
        <div>
          Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… ØµÙˆØª Ø§Ù„Ù‚Ø¯Ø³ Â· <span>Voice of Quds</span>
        </div>
      </div>
      <div class="language-switch">
        <span class="badge" id="lang-label">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Â· RTL</span>
        <button class="secondary" data-lang="ar">AR</button>
        <button class="secondary" data-lang="en">EN</button>
      </div>
    </header>

    <div class="grid">
      <section class="panel">
        <h3>ğŸ”§ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Â· Core Setup</h3>
        <div class="row">
          <div>
            <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Â· Content type</label>
            <div class="choices" id="content-types">
              <div class="pill active" data-value="bulletin">Ù†Ø´Ø±Ø© Â· Bulletin</div>
              <div class="pill" data-value="post">Ù…Ù†Ø´ÙˆØ± Â· Post</div>
              <div class="pill" data-value="tweet">ØªØºØ±ÙŠØ¯Ø© Â· Tweet</div>
            </div>
          </div>
          <div>
            <label>Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù„Ù„ØªØ­Ø¯ÙŠØ« Â· Refresh cadence</label>
            <div class="choices" id="cadence">
              <div class="pill active" data-value="1">ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©</div>
              <div class="pill" data-value="5">ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚</div>
            </div>
          </div>
        </div>
        <div class="row">
          <div>
            <label>Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø°ÙƒÙŠ Â· AI model</label>
            <select id="model">
              <option>GPT-4 Turbo (OpenAI)</option>
              <option>GPT-4o Mini</option>
              <option>Claude 3 Haiku</option>
              <option>Custom endpoint</option>
            </select>
          </div>
          <div>
            <label>Ù…ÙØªØ§Ø­ / Endpoint</label>
            <input id="endpoint" placeholder="https://api.your-model.com/v1" />
          </div>
        </div>
      </section>

      <section class="panel">
        <h3>ğŸŒ Ø§Ù„Ù…ØµØ§Ø¯Ø± Â· Sources</h3>
        <label>Ø§Ø®ØªØ± Ù…ØµØ¯Ø±Ù‹Ø§ Ø£Ùˆ Ø£ÙƒØ«Ø± Â· Multi-source ingest</label>
        <div class="choices" id="sources">
          <div class="pill active" data-value="newsroom">ØºØ±ÙØ© Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ù…Ø­Ù„ÙŠØ©</div>
          <div class="pill" data-value="rss">RSS / Atom</div>
          <div class="pill" data-value="api">API Ø®Ø§Ø±Ø¬ÙŠ</div>
        </div>
        <div class="row" style="margin-top:10px;">
          <div>
            <label>Ø±Ø§Ø¨Ø· RSS</label>
            <input id="rss" placeholder="https://example.com/feed.xml" />
          </div>
          <div>
            <label>Ø±Ø§Ø¨Ø· API</label>
            <input id="api" placeholder="https://news.example.com/events" />
          </div>
        </div>
        <div class="status-line">
          <div class="meta">âš¡ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø±Ø¨Ø· Ù…Ø¹ fetch/axios.</div>
          <div class="status-dot" title="Live"></div>
        </div>
      </section>

      <section class="panel">
        <h3>âœï¸ Ø§Ù„ØªØ®ØµÙŠØµ Â· Tone & Format</h3>
        <label>Ù…ÙˆØ¬Ù‡ Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Â· Style prompt</label>
        <textarea id="style" placeholder="Ù…Ø«Ø§Ù„: Ù„ØºØ© Ù…ØªÙˆØ§Ø²Ù†Ø©ØŒ Ø¬Ù…Ù„ Ù‚ØµÙŠØ±Ø©ØŒ ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚Ø©."></textarea>
        <div class="row">
          <div>
            <label>ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬</label>
            <select id="format">
              <option value="text">Ù†Øµ ØºÙ†ÙŠ Rich text</option>
              <option value="bullet">Ù‚Ø§Ø¦Ù…Ø© Ù†Ù‚Ø·ÙŠØ© Bullets</option>
              <option value="script">Ø³ÙƒØ±ÙŠØ¨Øª Ø¥Ø°Ø§Ø¹ÙŠ Radio script</option>
            </select>
          </div>
          <div>
            <label>Ø¥Ø±ÙØ§Ù‚ ÙˆØ³ÙˆÙ…</label>
            <input id="tags" placeholder="#Ø§Ù„Ù‚Ø¯Ø³ #Breaking #Urgent" />
          </div>
        </div>
      </section>

      <section class="panel">
        <h3>ğŸš€ Ø§Ù„ØªÙˆÙ„ÙŠØ¯ ÙˆØ§Ù„Ù†Ø´Ø± Â· Generate & Publish</h3>
        <div class="actions">
          <button id="preview">ğŸ‘ï¸ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Â· Preview</button>
          <button class="secondary" id="export">â¬‡ï¸ ØªØµØ¯ÙŠØ± / Export</button>
          <button class="secondary" id="copy">ğŸ“‹ Ù†Ø³Ø® / Copy</button>
        </div>
        <div class="output" id="output">
          <h4>Ø¹Ù†ÙˆØ§Ù† Ù…Ø¨Ø¯Ø¦ÙŠ Â· Headline</h4>
          <p>Ù‡Ù†Ø§ Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ù†Øµ Ø§Ù„Ù…ÙˆÙ„Ø¯ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©. This area previews the generated content.</p>
          <div class="meta">
            <small>Ø§Ù„Ù…ØµØ¯Ø± Â· Source: ØºØ±ÙØ© Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</small>
            <small>Ø§Ù„ØªØ§Ø±ÙŠØ® Â· Date: <span id="date">â€”</span></small>
          </div>
          <div class="tags" id="tags-display"></div>
        </div>
        <div class="status-line">
          <span>âš™ï¸ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¯Ù…Ø¬ Ù…Ø¹ ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ùˆ RSS.</span>
          <span id="copy-status"></span>
        </div>
      </section>
    </div>
  </div>

  <script>
    const state = {
      lang: 'ar',
      type: 'bulletin',
      cadence: '1',
      sources: new Set(['newsroom', 'rss']),
    };

    const strings = {
      ar: {
        previewTitle: 'Ø¹Ù†ÙˆØ§Ù† Ù…Ø¨Ø¯Ø¦ÙŠ Â· Headline',
        sourceLabel: 'Ø§Ù„Ù…ØµØ¯Ø± Â· Source',
        tagsLabel: 'ÙˆØ³ÙˆÙ…',
        copied: 'ØªÙ… Ø§Ù„Ù†Ø³Ø®',
        exported: 'ØªÙ… Ø­ÙØ¸ Ù…Ù„Ù JSON',
        langBadge: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Â· RTL',
      },
      en: {
        previewTitle: 'Draft headline',
        sourceLabel: 'Source',
        tagsLabel: 'Tags',
        copied: 'Copied',
        exported: 'JSON saved',
        langBadge: 'English Â· LTR',
      }
    };

    const contentTypes = document.querySelectorAll('#content-types .pill');
    const cadence = document.querySelectorAll('#cadence .pill');
    const sources = document.querySelectorAll('#sources .pill');

    function toggleActive(list, key) {
      list.forEach(item => {
        item.addEventListener('click', () => {
          list.forEach(el => el.classList.remove('active'));
          item.classList.add('active');
          state[key] = item.dataset.value;
        });
      });
    }

    toggleActive(contentTypes, 'type');
    toggleActive(cadence, 'cadence');

    sources.forEach(item => {
      item.addEventListener('click', () => {
        const value = item.dataset.value;
        if (state.sources.has(value)) {
          state.sources.delete(value);
          item.classList.remove('active');
        } else {
          state.sources.add(value);
          item.classList.add('active');
        }
      });
    });

    document.getElementById('preview').addEventListener('click', () => {
      const format = document.getElementById('format').value;
      const style = document.getElementById('style').value || 'Ø£Ø³Ù„ÙˆØ¨ Ù…ÙˆØ¬Ø² ÙˆÙˆØ§Ø¶Ø­ / Concise & clear.';
      const tags = document.getElementById('tags').value.split(/[,#]/).map(t => t.trim()).filter(Boolean);
      const title = `${state.type === 'bulletin' ? 'Ù†Ø´Ø±Ø©' : state.type === 'post' ? 'Ù…Ù†Ø´ÙˆØ±' : 'ØªØºØ±ÙŠØ¯Ø©'} Ù…Ø­Ø¯Ø«Ø© ÙƒÙ„ ${state.cadence} Ø¯Ù‚ÙŠÙ‚Ø©`;
      const body = format === 'bullet'
        ? 'â€¢ Ø¹Ù†ÙˆØ§Ù† Ø³Ø±ÙŠØ¹\nâ€¢ ØªÙØ§ØµÙŠÙ„ Ø±Ø¦ÙŠØ³ÙŠØ©\nâ€¢ Ù…ØµØ¯Ø± Ù…ÙˆØ«ÙˆÙ‚'
        : format === 'script'
        ? 'Ø§Ù„Ù…ÙÙ‚Ø¯Ù‘ÙÙ…: Ù†Ø¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ù‚Ø¯Ø³...\nØ§Ù„Ù…Ø±Ø§Ø³Ù„: ÙŠØ¤ÙƒØ¯ Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ...'
        : 'ØªØºØ·ÙŠØ© ÙÙˆØ±ÙŠØ© Ù„Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø¬Ø§Ø±ÙŠØ© Ù…Ø¹ ØªØ¶Ù…ÙŠÙ† Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚Ø© ÙˆØ¥Ø¨Ø±Ø§Ø² Ù…Ø§ ÙŠÙ‡Ù… Ø§Ù„Ù…Ø³ØªÙ…Ø¹ÙŠÙ†.';

      document.querySelector('#output h4').textContent = title;
      document.querySelector('#output p').textContent = body;
      document.querySelector('#date').textContent = new Date().toLocaleString(state.lang === 'ar' ? 'ar-EG' : 'en-US');
      const tagBox = document.getElementById('tags-display');
      tagBox.innerHTML = '';
      tags.forEach(tag => {
        const el = document.createElement('span');
        el.className = 'tag';
        el.textContent = tag.startsWith('#') ? tag : `#${tag}`;
        tagBox.appendChild(el);
      });
      document.getElementById('copy-status').textContent = '';
    });

    document.getElementById('copy').addEventListener('click', async () => {
      const text = document.querySelector('#output').innerText;
      try {
        await navigator.clipboard.writeText(text);
        document.getElementById('copy-status').textContent = strings[state.lang].copied;
      } catch (e) {
        document.getElementById('copy-status').textContent = 'âš ï¸ ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù†Ø³Ø®';
      }
    });

    document.getElementById('export').addEventListener('click', () => {
      const payload = {
        contentType: state.type,
        cadence: Number(state.cadence),
        model: document.getElementById('model').value,
        endpoint: document.getElementById('endpoint').value,
        sources: Array.from(state.sources),
        rss: document.getElementById('rss').value,
        api: document.getElementById('api').value,
        style: document.getElementById('style').value,
        format: document.getElementById('format').value,
        tags: document.getElementById('tags').value,
        preview: document.querySelector('#output').innerText,
      };
      const blob = new Blob([JSON.stringify(payload, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'voice-of-quds-config.json';
      a.click();
      URL.revokeObjectURL(url);
      document.getElementById('copy-status').textContent = strings[state.lang].exported;
    });

    document.querySelectorAll('[data-lang]').forEach(btn => {
      btn.addEventListener('click', () => {
        const lang = btn.dataset.lang;
        state.lang = lang;
        document.documentElement.lang = lang;
        document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
        document.getElementById('lang-label').textContent = strings[lang].langBadge;
      });
    });

    // initialize preview
    document.getElementById('preview').click();
  </script>
</body>
</html>
